{"ast":null,"code":"import React from'react';import\"./Postdetails.css\";import{toast}from'react-toastify';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Postdetails=_ref=>{let{item,toggleDetails}=_ref;const navigate=useNavigate();const notifya=msg=>toast.error(msg);const notifyb=msg=>toast.success(msg);const removePost=postId=>{if(window.confirm(\"Do you really want to delete this post?\")){fetch(\"/deletepost/\".concat(postId),{method:\"delete\",headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);toggleDetails();navigate(\"/\");notifyb(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showcomment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postpic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"post\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-pic\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\" \"}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletepost\",onClick:()=>{removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"commentsection\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(comment=>{return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \",\"  \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commenttext\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",cursor:\"pointer\"}// onClick={() => {\n//     toggleComment(item);\n// }}\n,children:\"View all comments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a Comment\"///value={comment} onChange={(e) => { setComment(e.target.value) }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//    onClick={()=>{makeComment(comment,item._id)\n//     toggleComment();\n//    }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"closecomment\",onClick:()=>{toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});};export default Postdetails;","map":{"version":3,"names":["React","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","Postdetails","_ref","item","toggleDetails","navigate","notifya","msg","error","notifyb","success","removePost","postId","window","confirm","fetch","concat","method","headers","localStorage","getItem","then","res","json","result","console","log","message","className","children","src","photo","alt","style","borderBottom","postedBy","name","onClick","_id","comments","map","comment","fontWeight","likes","length","body","cursor","type","placeholder"],"sources":["D:/fullstack_instagram/insta_clone/backend/frontend/src/components/Postdetails.js"],"sourcesContent":["import React from 'react'\r\nimport \"./Postdetails.css\"\r\nimport {  toast } from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom'\r\nconst Postdetails = ({ item, toggleDetails }) => {\r\n    const navigate=useNavigate()\r\n    const notifya=(msg)=>toast.error(msg)\r\n    const notifyb=(msg)=>toast.success(msg)\r\n    const removePost = (postId) => {\r\n        if(window.confirm(\"Do you really want to delete this post?\")){\r\n            fetch(`/deletepost/${postId}`, {\r\n            method: \"delete\",\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n        })\r\n        .then((res)=>res.json())\r\n        .then((result)=>{ \r\n            console.log(result);\r\n            toggleDetails();\r\n            navigate(\"/\");\r\n            notifyb(result.message)\r\n        })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"showcomment\">\r\n            <div className=\"container\">\r\n                <div className=\"postpic\">\r\n                    <img src={item.photo} alt=\"post\" />\r\n                </div>\r\n                <div className=\"details\">\r\n\r\n                    {/* card-header */}\r\n                    <div className=\"card-header\" style={{ borderBottom: \"1px solid #00000029\" }}>\r\n                        <div className=\"card-pic\">\r\n                            <img src={item.photo} alt=\" \" />\r\n                            <h5>{item.postedBy.name}</h5>\r\n                            <div className=\"deletepost\" onClick={()=>{removePost(item._id)}} >\r\n                                <span className=\"material-symbols-outlined\">\r\n                                    delete\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* comment-section */}\r\n                    <div className=\"commentsection\" style={{ borderBottom: \"1px solid #00000029\" }} >\r\n                        {\r\n                            item.comments.map((comment) => {\r\n                                return (<p className='comm'>\r\n                                    <span className=\"commenter\" style={{ fontWeight: \"bolder\" }} >{comment.postedBy.name}{\" \"}  </span>\r\n                                    <span className=\"commenttext\">{comment.comment}</span>\r\n                                </p>)\r\n                            })\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {/* card content */}\r\n                    <div className=\"card-content\">\r\n                        <p >{item.likes.length} likes</p>\r\n                        <p>{item.body}</p>\r\n                        <p style={{ fontWeight: \"bold\", cursor: \"pointer\" }}\r\n                            // onClick={() => {\r\n                            //     toggleComment(item);\r\n                            // }}\r\n                            >\r\n                            View all comments\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"add-comment\">\r\n                        <span className=\"material-symbols-outlined\">\r\n                            mood\r\n                        </span>\r\n                        <input type=\"text\" placeholder='Add a Comment' ///value={comment} onChange={(e) => { setComment(e.target.value) }}\r\n                        />\r\n                        <button className=\"comment\"\r\n                        //    onClick={()=>{makeComment(comment,item._id)\r\n                        //     toggleComment();\r\n                        //    }}\r\n                        >Post</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"closecomment\"\r\n                onClick={() => { toggleDetails() }}\r\n            >\r\n                <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\r\n                    close\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Postdetails\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}