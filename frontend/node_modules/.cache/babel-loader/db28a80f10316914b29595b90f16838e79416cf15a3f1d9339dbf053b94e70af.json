{"ast":null,"code":"import React from'react';import\"./Postdetails.css\";import{toast}from'react-toastify';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Postdetails=_ref=>{let{item,toggleDetails}=_ref;const navigate=useNavigate();const notifya=msg=>toast.error(msg);const notifyb=msg=>toast.success(msg);const removePost=postId=>{if(window.confirm(\"Do you really want to delete this post?\")){fetch(\"/deletepost/\".concat(postId),{method:\"delete\",headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);toggleDetails();navigate(\"/\");notifyb(\"result.message\");});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showcomment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postpic\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-pic\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\" \"}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedby.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"deletepost\",children:[\" onClick=\",()=>{removePost(item._id);},/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"commentsection\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(comment=>{return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedby,\" \",\"  \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commenttext\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",cursor:\"pointer\"}// onClick={() => {\n//     toggleComment(item);\n// }}\n,children:\"View all comments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a Comment\"///value={comment} onChange={(e) => { setComment(e.target.value) }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//    onClick={()=>{makeComment(comment,item._id)\n//     toggleComment();\n//    }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"closecomment\",onClick:()=>{toggleDetails(item);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});};export default Postdetails;","map":{"version":3,"names":["React","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","Postdetails","_ref","item","toggleDetails","navigate","notifya","msg","error","notifyb","success","removePost","postId","window","confirm","fetch","concat","method","headers","localStorage","getItem","then","res","json","result","console","log","className","children","src","alt","style","borderBottom","photo","postedby","name","_id","comments","map","comment","fontWeight","likes","length","body","cursor","type","placeholder","onClick"],"sources":["D:/fullstack_instagram/insta_clone/backend/frontend/src/components/Postdetails.js"],"sourcesContent":["import React from 'react'\r\nimport \"./Postdetails.css\"\r\nimport {  toast } from 'react-toastify';\r\nimport { useNavigate } from 'react-router-dom'\r\nconst Postdetails = ({ item, toggleDetails }) => {\r\n    const navigate=useNavigate()\r\n    const notifya=(msg)=>toast.error(msg)\r\n    const notifyb=(msg)=>toast.success(msg)\r\n    const removePost = (postId) => {\r\n        if(window.confirm(\"Do you really want to delete this post?\")){\r\n            fetch(`/deletepost/${postId}`, {\r\n            method: \"delete\",\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n        })\r\n        .then((res)=>res.json())\r\n        .then((result)=>{ \r\n            console.log(result);\r\n            toggleDetails();\r\n            navigate(\"/\");\r\n            notifyb(\"result.message\")\r\n        })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"showcomment\">\r\n            <div className=\"container\">\r\n                <div className=\"postpic\">\r\n                    <img src=\"\" alt=\"\" />\r\n                </div>\r\n                <div className=\"details\">\r\n\r\n                    {/* card-header */}\r\n                    <div className=\"card-header\" style={{ borderBottom: \"1px solid #00000029\" }}>\r\n                        <div className=\"card-pic\">\r\n                            <img src={item.photo} alt=\" \" />\r\n                            <h5>{item.postedby.name}</h5>\r\n                            <div className=\"deletepost\"> onClick={()=>{removePost(item._id)}}\r\n                                <span className=\"material-symbols-outlined\">\r\n                                    delete\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* comment-section */}\r\n                    <div className=\"commentsection\" style={{ borderBottom: \"1px solid #00000029\" }} >\r\n                        {\r\n                            item.comments.map((comment) => {\r\n                                return (<p className='comm'>\r\n                                    <span className=\"commenter\" style={{ fontWeight: \"bolder\" }} >{comment.postedby}{\" \"}  </span>\r\n                                    <span className=\"commenttext\">{comment.comment}</span>\r\n                                </p>)\r\n                            })\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {/* card content */}\r\n                    <div className=\"card-content\">\r\n                        <p >{item.likes.length} likes</p>\r\n                        <p>{item.body}</p>\r\n                        <p style={{ fontWeight: \"bold\", cursor: \"pointer\" }}\r\n                            // onClick={() => {\r\n                            //     toggleComment(item);\r\n                            // }}\r\n                            >\r\n                            View all comments\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"add-comment\">\r\n                        <span className=\"material-symbols-outlined\">\r\n                            mood\r\n                        </span>\r\n                        <input type=\"text\" placeholder='Add a Comment' ///value={comment} onChange={(e) => { setComment(e.target.value) }}\r\n                        />\r\n                        <button className=\"comment\"\r\n                        //    onClick={()=>{makeComment(comment,item._id)\r\n                        //     toggleComment();\r\n                        //    }}\r\n                        >Post</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"closecomment\"\r\n                onClick={() => { toggleDetails(item) }}\r\n            >\r\n                <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\r\n                    close\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Postdetails\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}