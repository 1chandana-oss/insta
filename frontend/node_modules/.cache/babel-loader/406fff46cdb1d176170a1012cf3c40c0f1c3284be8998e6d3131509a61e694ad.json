{"ast":null,"code":"// import React,{useState,useEffect} from 'react'\n// import './Createpost.css';\n// import {  toast } from 'react-toastify';\n// import { useNavigate } from 'react-router-dom';\n\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n\n// const Createpost = () => {\n//  const [body, setBody] = useState(\"\");\n//  const [image, setImage] = useState(\"\");\n//  const [url, setUrl] = useState(\"\");\n//  const navigate=useNavigate()\n\n//   const notifya=(msg)=>toast.error(msg)\n//   const notifyb=(msg)=>toast.success(msg)\n//  useEffect(()=>{\n//   if(url){\n//     fetch(`${API_URL}/posts/createpost`,\n//       {\n//         method:\"POST\",\n//         headers:{\n//             \"Content-Type\":\"application/json\",\n//             \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n//         },\n//         body:JSON.stringify({\n//           body,\n//           pic:url\n//         })\n//   })\n//   // .then(res=>res.json())\n//   // .then(data=>{\n//   //   if(data.error){\n//   //   notifya(data.error)\n//   // }else{\n//   //   notifyb(\"succesfully posted \")\n//   //   navigate(\"/\")\n//   // }\n\n//   .then(res => {\n//   console.log(res.status, res.headers.get(\"content-type\"));\n//   return res.text(); // temporarily read as text\n// })\n// .then(text => {\n//   console.log(text); \n// })\n//   .catch(err=> console.log(err))\n//   }\n\n//  },[url])\n//   //posting image to cloudinary\n\n//   const postDetails = ()=>{\n//      if (!body || !image) {\n//       notifya(\"Please add all fields\");\n//       return;\n//     }\n\n//     const data=new FormData();\n//     data.append(\"file\",image)\n//     data.append(\"upload_preset\",\"insta_cloud\")\n//     data.append(\"cloud_name\",\"cloudchandana\")\n//     fetch(\"https://api.cloudinary.com/v1_1/cloudchandana/image/upload\",{\n//       method:\"POST\",\n//       body:data\n//     }).then( res => res.json())\n//     .then ( data => {\n//     if (!data.url) {\n//       notifya(\"Cloudinary upload failed\");\n//       return;\n//     }\n\n//     setUrl(data.url);\n//   })\n//   .catch(err=>console.log(err))\n// }\n\n//     const loadFile=(event)=>{ \n//     var output = document.getElementById('output');\n//     output.src = URL.createObjectURL(event.target.files[0]);\n//     output.onload = function() {\n//       URL.revokeObjectURL(output.src) ;\n//      }\n//     setImage(event.target.files[0]);\n//   };\n//   return (\n//     <div className='createpost'>\n//       <div className=\"post-header\">\n//          <h4 style={{margin:\"3px auto\"}}>create new post</h4>\n//         <button id=\"post-btn\" onClick={()=>{postDetails()}}>Share</button>\n//        </div>\n//       <div className=\"main-div\">\n//         <img id='output' src=\"data:image/png;base64,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\"/>\n//         <input type=\"file\" accept=\"image/*\" onChange={(event)=>{loadFile(event); setImage(event.target.files[0])}}/>\n//       </div>\n//       <div className=\"details\">\n//         <div className=\"card-header\">\n//             <div className=\"card-pic\">\n//                 <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\n//             </div>\n//             <h5>minakshi</h5>\n//         </div>\n//         <textarea value={body} onChange={(e)=>{setBody(e.target.value)}} type=\"text\" placeholder='write a caption....' ></textarea>\n//       </div>\n//     </div>\n//   )\n// }\n\n// export default Createpost","map":{"version":3,"names":[],"sources":["D:/fullstack_instagram/insta_clone/backend/frontend/src/components/Createpost.js"],"sourcesContent":["// import React,{useState,useEffect} from 'react'\r\n// import './Createpost.css';\r\n// import {  toast } from 'react-toastify';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\r\n\r\n// const Createpost = () => {\r\n//  const [body, setBody] = useState(\"\");\r\n//  const [image, setImage] = useState(\"\");\r\n//  const [url, setUrl] = useState(\"\");\r\n//  const navigate=useNavigate()\r\n\r\n//   const notifya=(msg)=>toast.error(msg)\r\n//   const notifyb=(msg)=>toast.success(msg)\r\n//  useEffect(()=>{\r\n//   if(url){\r\n//     fetch(`${API_URL}/posts/createpost`,\r\n//       {\r\n//         method:\"POST\",\r\n//         headers:{\r\n//             \"Content-Type\":\"application/json\",\r\n//             \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n//         },\r\n//         body:JSON.stringify({\r\n//           body,\r\n//           pic:url\r\n//         })\r\n//   })\r\n//   // .then(res=>res.json())\r\n//   // .then(data=>{\r\n//   //   if(data.error){\r\n//   //   notifya(data.error)\r\n//   // }else{\r\n//   //   notifyb(\"succesfully posted \")\r\n//   //   navigate(\"/\")\r\n//   // }\r\n\r\n\r\n\r\n\r\n//   .then(res => {\r\n//   console.log(res.status, res.headers.get(\"content-type\"));\r\n//   return res.text(); // temporarily read as text\r\n// })\r\n// .then(text => {\r\n//   console.log(text); \r\n// })\r\n//   .catch(err=> console.log(err))\r\n//   }\r\n\r\n//  },[url])\r\n//   //posting image to cloudinary\r\n\r\n//   const postDetails = ()=>{\r\n//      if (!body || !image) {\r\n//       notifya(\"Please add all fields\");\r\n//       return;\r\n//     }\r\n    \r\n//     const data=new FormData();\r\n//     data.append(\"file\",image)\r\n//     data.append(\"upload_preset\",\"insta_cloud\")\r\n//     data.append(\"cloud_name\",\"cloudchandana\")\r\n//     fetch(\"https://api.cloudinary.com/v1_1/cloudchandana/image/upload\",{\r\n//       method:\"POST\",\r\n//       body:data\r\n//     }).then( res => res.json())\r\n//     .then ( data => {\r\n//     if (!data.url) {\r\n//       notifya(\"Cloudinary upload failed\");\r\n//       return;\r\n//     }\r\n  \r\n//     setUrl(data.url);\r\n//   })\r\n//   .catch(err=>console.log(err))\r\n// }\r\n  \r\n//     const loadFile=(event)=>{ \r\n//     var output = document.getElementById('output');\r\n//     output.src = URL.createObjectURL(event.target.files[0]);\r\n//     output.onload = function() {\r\n//       URL.revokeObjectURL(output.src) ;\r\n//      }\r\n//     setImage(event.target.files[0]);\r\n//   };\r\n//   return (\r\n//     <div className='createpost'>\r\n//       <div className=\"post-header\">\r\n//          <h4 style={{margin:\"3px auto\"}}>create new post</h4>\r\n//         <button id=\"post-btn\" onClick={()=>{postDetails()}}>Share</button>\r\n//        </div>\r\n//       <div className=\"main-div\">\r\n//         <img id='output' src=\"data:image/png;base64,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\"/>\r\n//         <input type=\"file\" accept=\"image/*\" onChange={(event)=>{loadFile(event); setImage(event.target.files[0])}}/>\r\n//       </div>\r\n//       <div className=\"details\">\r\n//         <div className=\"card-header\">\r\n//             <div className=\"card-pic\">\r\n//                 <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\r\n//             </div>\r\n//             <h5>minakshi</h5>\r\n//         </div>\r\n//         <textarea value={body} onChange={(e)=>{setBody(e.target.value)}} type=\"text\" placeholder='write a caption....' ></textarea>\r\n//       </div>\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// export default Createpost\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}