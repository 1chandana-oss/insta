{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Profile.css';import Postdetails from'./Postdetails';import Profilepic from'./Profilepic';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{var profileLink=\"https://cdn-icons-png.flaticon.com/128/64/64572.png\";const[pic,setPic]=useState([]);const[show,setShow]=useState(false);const[posts,setPosts]=useState([]);const[user,setUser]=useState(\" \");const[changepic,setChangepic]=useState(false);const toggleDetails=posts=>{if(show){setShow(false);}else{setShow(true);setPosts(posts);}};const changeprofile=()=>{if(changepic){setChangepic(false);}else{setChangepic(true);}};useEffect(()=>{fetch(\"/user/\".concat(JSON.parse(localStorage.getItem(\"user\"))._id),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(res=>res.json()).then(result=>{console.log(result);setPic(result.post);setUser(result.user);console.log(pic);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-frame\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\",onClick:changeprofile,children:/*#__PURE__*/_jsx(\"img\",{src:user.photo?user.photo:profileLink,alt:\" \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-data\",children:[/*#__PURE__*/_jsx(\"h1\",{children:JSON.parse(localStorage.getItem(\"user\")).name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"p\",{children:[pic?pic.length:\"0\",\" posts\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.followers?user.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[user.following?user.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",margin:\"25px auto\",opacity:\"0.8\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:pic.map(pics=>{return/*#__PURE__*/_jsx(\"img\",{src:pics.photo,onClick:()=>{toggleDetails(pics);},className:\"item\"},pics._id);})}),show&&/*#__PURE__*/_jsx(Postdetails,{item:posts,toggleDetails:toggleDetails}),changepic&&/*#__PURE__*/_jsx(Profilepic,{changeprofile:changeprofile})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Postdetails","Profilepic","jsx","_jsx","jsxs","_jsxs","Profile","profileLink","pic","setPic","show","setShow","posts","setPosts","user","setUser","changepic","setChangepic","toggleDetails","changeprofile","fetch","concat","JSON","parse","localStorage","getItem","_id","headers","Authorization","then","res","json","result","console","log","post","className","children","onClick","src","photo","alt","name","style","display","length","followers","following","width","margin","opacity","map","pics","item"],"sources":["D:/fullstack_instagram/insta_clone/backend/frontend/src/components/Profile.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport './Profile.css';\r\nimport Postdetails from './Postdetails';\r\nimport Profilepic from './Profilepic';\r\nconst Profile = () => {\r\n  var profileLink=\"https://cdn-icons-png.flaticon.com/128/64/64572.png\"\r\n  const [pic, setPic] = useState([])\r\n  const [show,setShow]=useState(false)\r\n  const [posts, setPosts] = useState([])\r\n  const [user, setUser] = useState(\" \")\r\n const [changepic, setChangepic] = useState(false)\r\n\r\n  const toggleDetails=(posts)=>{\r\n    if(show){\r\n      setShow(false);\r\n     \r\n    }else{\r\n      setShow(true);\r\n      setPosts(posts)\r\n     \r\n    }\r\n  };\r\n  const changeprofile=()=>{\r\n    if(changepic){\r\n      setChangepic(false)\r\n    }else{\r\n      setChangepic(true)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n  \r\n    fetch(`/user/${JSON.parse(localStorage.getItem\r\n          (\"user\"))._id}`,{\r\n      headers:{\r\n        Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n      }\r\n    })\r\n    .then(res=>res.json())\r\n    .then((result)=>{\r\n      console.log(result)\r\n      setPic(result.post)\r\n      setUser(result.user)\r\n      console.log(pic)\r\n    })\r\n  }, [])\r\n  \r\n  return (\r\n    <div className=\"profile\">\r\n      <div className=\"profile-frame\">\r\n        <div className=\"profile-pic\" onClick={changeprofile}> \r\n          <img src={user.photo ? user.photo : profileLink} alt =\" \"/>\r\n        </div>\r\n        <div className=\"profile-data\">\r\n          <h1>{JSON.parse(localStorage.getItem\r\n          (\"user\")).name}</h1>\r\n          <div className=\"profile-info\" style={{display:\"flex\"}}>\r\n            <p>{pic? pic.length:\"0\"} posts</p>\r\n            <p>{user.followers?user.followers.length:\"0\"} followers</p>\r\n            <p>{user.following?user.following.length:\"0\"} following</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr style={{width:\"90%\",margin:\"25px auto\",opacity:\"0.8\"}}/>\r\n      <div className=\"gallery\">\r\n        {pic.map((pics)=>{\r\n            return <img key={pics._id} src={pics.photo} onClick={()=>{toggleDetails(pics)\r\n            }} className='item'></img>\r\n        })}\r\n        \r\n        {/* <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\r\n        <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\r\n        <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\r\n        <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" />\r\n        <img src=\"https://t4.ftcdn.net/jpg/03/83/25/83/240_F_383258331_D8imaEMl8Q3lf7EKU2Pi78Cn0R7KkW9o.jpg\" alt=\"\" /> */}\r\n      </div>\r\n      {show && \r\n      <Postdetails item={posts} toggleDetails={toggleDetails}/>\r\n      }\r\n      {\r\n        changepic &&\r\n        <Profilepic changeprofile={changeprofile}/>\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}